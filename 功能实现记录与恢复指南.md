# åŠŸèƒ½å®ç°è®°å½•ä¸æ¢å¤æŒ‡å—

> **æ–‡æ¡£è¯´æ˜**ï¼šæœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†æ‰€æœ‰å·²å®ç°ä½†åœ¨V1 MVPä¸­è¢«ç§»é™¤çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å‰ç«¯é¡µé¢å’Œåç«¯åŠŸèƒ½ã€‚
> æ–¹ä¾¿åç»­ç‰ˆæœ¬å¿«é€Ÿæ¢å¤è¿™äº›åŠŸèƒ½ã€‚

**åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´10æœˆ1æ—¥  
**å½“å‰V1åˆ†æ”¯**ï¼š`feature/mvp-iteration`  
**åŠŸèƒ½å®Œæ•´åˆ†æ”¯**ï¼š`feature/frontend-optimization`  
**åç«¯åŠŸèƒ½åˆ†æ”¯**ï¼š`main`

---

## ğŸ“‹ ç›®å½•

- [Gitç‰ˆæœ¬ä¿¡æ¯](#gitç‰ˆæœ¬ä¿¡æ¯)
- [å‰ç«¯é¡µé¢åŠŸèƒ½](#å‰ç«¯é¡µé¢åŠŸèƒ½)
- [åç«¯é›†æˆåŠŸèƒ½](#åç«¯é›†æˆåŠŸèƒ½)
- [ç”¨æˆ·ç³»ç»ŸåŠŸèƒ½](#ç”¨æˆ·ç³»ç»ŸåŠŸèƒ½)
- [å¿«é€Ÿæ¢å¤æŒ‡å—](#å¿«é€Ÿæ¢å¤æŒ‡å—)

---

## ğŸ”– Gitç‰ˆæœ¬ä¿¡æ¯

### å…³é”®åˆ†æ”¯

| åˆ†æ”¯åç§° | è¯´æ˜ | æœ€æ–°æäº¤ |
|---------|------|---------|
| `main` | åç«¯åŠŸèƒ½å®ç°åˆ†æ”¯ï¼ˆå¾®ä¿¡æ”¯ä»˜ã€OpenIDç­‰ï¼‰ | `7f49a09` |
| `feature/frontend-optimization` | å‰ç«¯å®Œæ•´åŠŸèƒ½åˆ†æ”¯ï¼ˆæ‰€æœ‰é¡µé¢ï¼‰ | `ad39b35` |
| `feature/mvp-iteration` | V1 MVPç²¾ç®€ç‰ˆæœ¬ï¼ˆå½“å‰åˆ†æ”¯ï¼‰ | æœ€æ–° |

### åŠŸèƒ½åˆ é™¤è®°å½•

æ‰€æœ‰åˆ é™¤çš„æ–‡ä»¶å·²ç§»åŠ¨åˆ°ï¼š`.trash/pages/` ç›®å½•

---

## ğŸ¨ å‰ç«¯é¡µé¢åŠŸèƒ½

### 1. é¦–é¡µ (home)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `e2bc7ed` - feat: å®ç°ç²¾ç¾æ–°é¦–é¡µè®¾è®¡
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/home/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç²¾ç¾çš„é¦–é¡µè®¾è®¡
- âœ… å¤šä¸ªåŠŸèƒ½å…¥å£å¯¼èˆª
- âœ… è£…é¥°åŠ¨ç”»æ•ˆæœ
  - æµ®åŠ¨çˆªå°è£…é¥°
  - çŒ«å’ªå¤´åƒåŠ¨ç”»
  - èƒŒæ™¯æ¸å˜æ•ˆæœ
  - æŒ‰é’®æ‚¬åœåŠ¨ç”»
- âœ… ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºï¼ˆå¤´åƒã€æ˜µç§°ï¼‰
- âœ… è·³è½¬åˆ°å„åŠŸèƒ½é¡µé¢

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/home/
â”œâ”€â”€ home.json    # é¡µé¢é…ç½®
â”œâ”€â”€ home.ts      # é¡µé¢é€»è¾‘
â”œâ”€â”€ home.wxml    # é¡µé¢ç»“æ„
â””â”€â”€ home.wxss    # é¡µé¢æ ·å¼
```

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. ä»trashæ¢å¤æ–‡ä»¶
cp -r .trash/pages/home/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ é¡µé¢
"pages": [
  "pages/splash/splash",
  "pages/home/home",      # æ·»åŠ è¿™è¡Œ
  "pages/index/index",
  ...
]

# 3. ä¿®æ”¹splash/splash.tsè·³è½¬ç›®æ ‡
url: '/pages/home/home'  # ä»indexæ”¹å›home
```

---

### 2. ç¾é¢œç›¸æœºé¡µ (camera)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `d0f9975` - feat: å®ç°å®Œæ•´ç¾é¢œç›¸æœºç•Œé¢
- **åç»­ä¼˜åŒ–**: `ad59172`, `6acc220` - ä¿®å¤å¸ƒå±€é—®é¢˜
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/camera/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç›¸æœºé¢„è§ˆç•Œé¢
- âœ… AIæ¢è„¸åŠŸèƒ½
  - åŒå›¾ç‰‡ä¸Šä¼ åŒºåŸŸ
  - æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡é€‰æ‹©
  - AIæ¢è„¸ç®­å¤´åŠ¨ç”»
- âœ… æ»¤é•œç³»ç»Ÿ
  - å¤šç§æ»¤é•œé€‰æ‹©
  - æ»¤é•œå¼ºåº¦è°ƒèŠ‚
  - æ»¤é•œåˆ‡æ¢åŠ¨ç”»
- âœ… çŒ«å’ªä¸»é¢˜æ»¤é•œ
- âœ… VIPä¼šå‘˜è´­ä¹°ç•Œé¢
- âœ… ç¤¾äº¤åŠŸèƒ½
  - é‚€è¯·å¥½å‹
  - åˆ†äº«åŠŸèƒ½
- âœ… ç²¾ç¾åŠ¨ç”»æ•ˆæœ
  - æ»¤é•œåˆ‡æ¢åŠ¨ç”»
  - æŒ‰é’®ç‚¹å‡»åé¦ˆ
  - è¿›åº¦æ¡åŠ¨ç”»
  - å¡ç‰‡æ‚¬åœæ•ˆæœ

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/camera/
â”œâ”€â”€ camera.json   # é¡µé¢é…ç½®
â”œâ”€â”€ camera.ts     # é¡µé¢é€»è¾‘
â”œâ”€â”€ camera.wxml   # é¡µé¢ç»“æ„ï¼ˆåŒ…å«æ‰€æœ‰UIç»„ä»¶ï¼‰
â””â”€â”€ camera.wxss   # é¡µé¢æ ·å¼ï¼ˆåŒ…å«åŠ¨ç”»å®šä¹‰ï¼‰
```

#### âš ï¸ æ³¨æ„äº‹é¡¹
- éœ€è¦åç«¯å®ç°AIæ¢è„¸API
- éœ€è¦å®ç°æ»¤é•œå¤„ç†ç®—æ³•
- éœ€è¦å®ç°VIPä¼šå‘˜ç³»ç»Ÿï¼ˆè§åç«¯åŠŸèƒ½éƒ¨åˆ†ï¼‰

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/camera/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/camera/camera",
  ...
]

# 3. åœ¨é¦–é¡µæ·»åŠ å…¥å£
<view class="menu-item" bindtap="goToCamera">ç¾é¢œç›¸æœº</view>
```

---

### 3. æ‹¼å›¾åä½œé¡µ (puzzle)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `bc7af54` - feat: å®ç°å®Œæ•´æ‹¼å›¾åä½œç•Œé¢
- **åç»­ä¼˜åŒ–**: `3f6c2dd` - ä¿®å¤ä¸ºåŠ¨æ€å¸ƒå±€é€‚é…
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/puzzle/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… 3x3æ‹¼å›¾ç½‘æ ¼æ˜¾ç¤º
- âœ… å®æ—¶æ‹¼å›¾å®Œæˆè¿›åº¦
- âœ… å›¢é˜Ÿåä½œåŠŸèƒ½
  - å¤šäººåä½œæ‹¼å›¾
  - å›¢é˜Ÿæˆå‘˜åˆ—è¡¨
  - æˆå‘˜åœ¨çº¿çŠ¶æ€
- âœ… ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- âœ… åŠ¨ç”»æ•ˆæœ
  - æ‹¼å›¾å—å®ŒæˆåŠ¨ç”»
  - æµ®åŠ¨çˆ±å¿ƒåŠ¨ç”»
  - è¿›åº¦æ¡åŠ¨ç”»
  - åº†ç¥å®ŒæˆåŠ¨ç”»
  - æˆå‘˜çŠ¶æ€æŒ‡ç¤ºå™¨åŠ¨ç”»
- âœ… äº¤äº’åŠŸèƒ½
  - æ‹¼å›¾å—ç‚¹å‡»äº¤äº’
  - æˆå‘˜å¤´åƒç‚¹å‡»
  - ä¸€é”®å®Œæˆæ¼”ç¤ºåŠŸèƒ½

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/puzzle/
â”œâ”€â”€ puzzle.json   # é¡µé¢é…ç½®
â”œâ”€â”€ puzzle.ts     # é¡µé¢é€»è¾‘ï¼ˆåŒ…å«æ‹¼å›¾ç®—æ³•ï¼‰
â”œâ”€â”€ puzzle.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ puzzle.wxss   # é¡µé¢æ ·å¼ï¼ˆåŒ…å«åŠ¨ç”»ï¼‰
```

#### âš ï¸ æ³¨æ„äº‹é¡¹
- éœ€è¦å®ç°WebSocketå®æ—¶é€šä¿¡
- éœ€è¦åç«¯å¤šäººåä½œAPI
- éœ€è¦å®ç°æ‹¼å›¾å›¾ç‰‡åˆ‡å‰²ç®—æ³•

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/puzzle/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/puzzle/puzzle",
  ...
]
```

---

### 4. æ¨èå¥–åŠ±é¡µ (referral)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `130bb7c` - feat: å®ç°å®Œæ•´æ¨èå¥–åŠ±ç³»ç»Ÿç•Œé¢
- **åç»­ä¼˜åŒ–**: `1cfe3c7` - ä¿®å¤å¯¼èˆªæ–¹æ³•ç»‘å®š
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/referral/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… é‚€è¯·ç ç³»ç»Ÿ
  - ä¸“å±é‚€è¯·ç ç”Ÿæˆ
  - ä¸€é”®å¤åˆ¶åŠŸèƒ½
- âœ… æ”¶ç›Šç»Ÿè®¡
  - ç´¯è®¡æ”¶ç›Šæ˜¾ç¤º
  - é‚€è¯·äººæ•°ç»Ÿè®¡
  - è·å¾—å¥–åŠ±ç»Ÿè®¡
- âœ… å¤šçº§å¥–åŠ±ç³»ç»Ÿ
  - é’é“œã€ç™½é“¶ã€é»„é‡‘ã€é“‚é‡‘ç­‰çº§
  - å¥–åŠ±è¿›åº¦æ¡
  - å¥–åŠ±å†…å®¹å±•ç¤º
- âœ… VIPç¤¼å“å¡
  - ç¤¼å“å¡å±•ç¤º
  - è½¬èµ åŠŸèƒ½
- âœ… ç”¨æˆ·å¥½è¯„å±•ç¤º
- âœ… åŠ¨ç”»æ•ˆæœ
  - æµ®åŠ¨çˆ±å¿ƒè£…é¥°åŠ¨ç”»
  - è¿›åº¦æ¡åŠ¨ç”»
  - æŒ‰é’®ç‚¹å‡»åé¦ˆ
  - å¡ç‰‡æ‚¬åœæ•ˆæœ

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/referral/
â”œâ”€â”€ referral.json   # é¡µé¢é…ç½®
â”œâ”€â”€ referral.ts     # é¡µé¢é€»è¾‘ï¼ˆåŒ…å«é‚€è¯·ç ç”Ÿæˆï¼‰
â”œâ”€â”€ referral.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ referral.wxss   # é¡µé¢æ ·å¼ï¼ˆåŒ…å«åŠ¨ç”»ï¼‰
```

#### âš ï¸ æ³¨æ„äº‹é¡¹
- éœ€è¦åç«¯é‚€è¯·ç ç”ŸæˆAPI
- éœ€è¦å®ç°å¥–åŠ±å‘æ”¾ç³»ç»Ÿ
- éœ€è¦å®ç°ç¤¼å“å¡ç³»ç»Ÿ

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/referral/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/referral/referral",
  ...
]
```

---

### 5. é‚€è¯·å¥½å‹é¡µ (invite)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `a7226a5` - feat: å®ç°å®Œæ•´é‚€è¯·å¥½å‹ç³»ç»Ÿç•Œé¢
- **åç»­ä¼˜åŒ–**: `5d02a95` - ä¿®å¤å¯¼èˆªæ æ˜¾ç¤ºå˜å½¢é—®é¢˜
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/invite/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… æˆå°±è¿½è¸ªå™¨
  - é‚€è¯·è¿›åº¦æ˜¾ç¤º
  - æˆå°±è§£é”çŠ¶æ€
- âœ… å¥½å‹åˆ—è¡¨
  - å·²é‚€è¯·å¥½å‹å±•ç¤º
  - å¥½å‹çŠ¶æ€æ˜¾ç¤º
- âœ… å¥–åŠ±é˜¶æ¢¯
  - å¤šçº§å¥–åŠ±å±•ç¤º
  - è¿›åº¦æ¡åŠ¨ç”»
- âœ… VIPè½¬èµ å¡
- âœ… ç¤¾äº¤åˆ†äº«åŠŸèƒ½

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/invite/
â”œâ”€â”€ invite.json   # é¡µé¢é…ç½®
â”œâ”€â”€ invite.ts     # é¡µé¢é€»è¾‘
â”œâ”€â”€ invite.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ invite.wxss   # é¡µé¢æ ·å¼
```

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/invite/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/invite/invite",
  ...
]
```

---

### 6. ç§¯åˆ†å•†åŸé¡µ (mall)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `5d02a95` - feat: å®ç°å®Œæ•´ç§¯åˆ†å•†åŸç³»ç»Ÿç•Œé¢
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/mall/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç§¯åˆ†å¤´éƒ¨åŒºåŸŸ
  - ç§¯åˆ†ä½™é¢æ˜¾ç¤º
  - ç­¾åˆ°åŠŸèƒ½
- âœ… åˆ†ç±»æ ‡ç­¾ç³»ç»Ÿ
  - å…¨éƒ¨ã€å®ç‰©ã€è™šæ‹Ÿã€ä¼šå‘˜ç­‰åˆ†ç±»
  - åˆ†ç±»åˆ‡æ¢åŠ¨ç”»
- âœ… å•†å“ç½‘æ ¼å±•ç¤º
  - å•†å“å¡ç‰‡è®¾è®¡
  - å•†å“å›¾ç‰‡ã€åç§°ã€ç§¯åˆ†
  - å…‘æ¢æŒ‰é’®
- âœ… çƒ­é—¨æ ‡ç­¾
- âœ… äº¤äº’åŠ¨ç”»

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/mall/
â”œâ”€â”€ mall.json   # é¡µé¢é…ç½®
â”œâ”€â”€ mall.ts     # é¡µé¢é€»è¾‘ï¼ˆåŒ…å«å•†å“æ•°æ®ï¼‰
â”œâ”€â”€ mall.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ mall.wxss   # é¡µé¢æ ·å¼
```

#### âš ï¸ æ³¨æ„äº‹é¡¹
- éœ€è¦åç«¯å•†å“ç®¡ç†API
- éœ€è¦å®ç°ç§¯åˆ†ç³»ç»Ÿ
- éœ€è¦å®ç°è®¢å•ç³»ç»Ÿ

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/mall/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/mall/mall",
  ...
]
```

---

### 7. ä¸ªäººèµ„æ–™é¡µ (profile)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `ad39b35` - feat: æ–°å¢ä¸ªäººèµ„æ–™é¡µé¢å’Œç”¨æˆ·æµç¨‹å›¾é¡µé¢
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/profile/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç”¨æˆ·èµ„æ–™å¡ç‰‡
  - å¤´åƒã€æ˜µç§°ã€IDæ˜¾ç¤º
  - ä¼šå‘˜ç­‰çº§å±•ç¤º
- âœ… ä¼šå‘˜å¡å±•ç¤º
  - VIPç­‰çº§æ˜¾ç¤º
  - ä¼šå‘˜æƒç›Šè¯´æ˜
- âœ… ç»Ÿè®¡å¡ç‰‡
  - ç§¯åˆ†ã€ç²‰ä¸ã€è·èµç­‰æ•°æ®
- âœ… æˆå°±å¡ç‰‡
  - æˆå°±å¾½ç« å±•ç¤º
  - è§£é”è¿›åº¦
- âœ… åŠŸèƒ½èœå•
  - æˆ‘çš„è®¢å•ã€ç§¯åˆ†è®°å½•ç­‰
- âœ… è®¾ç½®èœå•
  - è´¦å·è®¾ç½®ã€éšç§è®¾ç½®ç­‰

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/profile/
â”œâ”€â”€ profile.json   # é¡µé¢é…ç½®
â”œâ”€â”€ profile.ts     # é¡µé¢é€»è¾‘
â”œâ”€â”€ profile.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ profile.wxss   # é¡µé¢æ ·å¼
```

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/profile/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/profile/profile",
  ...
]
```

---

### 8. ç”¨æˆ·æµç¨‹å›¾é¡µ (userflow)

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization`
- **æäº¤**: `ad39b35` - feat: æ–°å¢ä¸ªäººèµ„æ–™é¡µé¢å’Œç”¨æˆ·æµç¨‹å›¾é¡µé¢
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/userflow/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç”¨æˆ·æµç¨‹å¯è§†åŒ–å±•ç¤º
- âœ… äº¤äº’å¼æµç¨‹å›¾
- âœ… æ¼”ç¤ºå’Œæµ‹è¯•ç”¨é€”

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/userflow/
â”œâ”€â”€ userflow.json   # é¡µé¢é…ç½®
â”œâ”€â”€ userflow.ts     # é¡µé¢é€»è¾‘
â”œâ”€â”€ userflow.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ userflow.wxss   # é¡µé¢æ ·å¼
```

#### ğŸ”„ æ¢å¤æ–¹æ³•
```bash
# 1. æ¢å¤é¡µé¢æ–‡ä»¶
cp -r .trash/pages/userflow/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ 
"pages": [
  "pages/userflow/userflow",
  ...
]
```

---

### 9. æ—¥å¿—é¡µé¢ (logs)

#### ğŸ“ ä½ç½®
- **æ–‡ä»¶ä½ç½®**: `.trash/pages/logs/`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… å¾®ä¿¡å°ç¨‹åºç¤ºä¾‹é¡µé¢
- âœ… æ—¥å¿—å±•ç¤ºåŠŸèƒ½

#### ğŸ“ æ–‡ä»¶åˆ—è¡¨
```
.trash/pages/logs/
â”œâ”€â”€ logs.json   # é¡µé¢é…ç½®
â”œâ”€â”€ logs.ts     # é¡µé¢é€»è¾‘
â”œâ”€â”€ logs.wxml   # é¡µé¢ç»“æ„
â””â”€â”€ logs.wxss   # é¡µé¢æ ·å¼
```

---

## ğŸ”§ åç«¯é›†æˆåŠŸèƒ½

### 1. å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `main`
- **æäº¤**: `7f49a09` - feat: é›†æˆå¾®ä¿¡æ”¯ä»˜åŠŸèƒ½
- **ç›¸å…³æäº¤**:
  - `5aa2409` - æ·»åŠ æ”¯ä»˜ç•Œé¢UIè®¾è®¡
  - `4b02d7a` - å°†ä»˜è´¹å¥—é¤åŒºåŸŸç§»åŠ¨åˆ°é¡µé¢é¡¶éƒ¨

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… å¾®ä¿¡æ”¯ä»˜é›†æˆ
- âœ… ä»˜è´¹å¥—é¤ç³»ç»Ÿ
  - åŸºç¡€åŒ…ï¼šÂ¥9.9ï¼ˆ10æ¬¡å¢å¼ºï¼‰
  - é«˜çº§åŒ…ï¼šÂ¥29.9ï¼ˆ100æ¬¡å¢å¼ºï¼‰
  - æ— é™åŒ…ï¼šÂ¥99.9ï¼ˆæ— é™æ¬¡ä½¿ç”¨ï¼‰
- âœ… æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢
- âœ… è®¢å•ç®¡ç†

#### ğŸ“ æ¶‰åŠæ–‡ä»¶

**å‰ç«¯æ–‡ä»¶**ï¼ˆåœ¨V1ä¸­å·²åˆ é™¤ï¼Œå¯ä»gitæ¢å¤ï¼‰ï¼š
```
miniprogram/pages/index/index.wxml
miniprogram/pages/index/index.ts
miniprogram/pages/index/index.wxss
```

**å…³é”®ä»£ç ä½ç½®**ï¼ˆåœ¨feature/frontend-optimizationåˆ†æ”¯çš„indexé¡µé¢ï¼‰ï¼š

```javascript
// miniprogram/pages/index/index.ts

// é€‰æ‹©å¥—é¤
selectPackage(e: any) {
  const { type, amount } = e.currentTarget.dataset;
  
  wx.showModal({
    title: 'ç¡®è®¤è´­ä¹°',
    content: `ç¡®å®šè´­ä¹°${type}å¥—é¤ï¼ˆÂ¥${amount}ï¼‰å—ï¼Ÿ`,
    success: (res) => {
      if (res.confirm) {
        this.createPayment(type, amount);
      }
    }
  });
},

// åˆ›å»ºæ”¯ä»˜
createPayment(type: string, amount: string) {
  const openid = wx.getStorageSync('openid');
  
  if (!openid) {
    wx.showToast({
      title: 'è¯·å…ˆè·å–OpenID',
      icon: 'error'
    });
    return;
  }

  wx.showLoading({
    title: 'åˆ›å»ºè®¢å•ä¸­...'
  });

  wx.request({
    url: 'https://www.gongjuxiang.work/api/wechat/pay/create',
    method: 'POST',
    header: {
      'Content-Type': 'application/json'
    },
    data: {
      openid: openid,
      total_fee: parseFloat(amount) * 100, // è½¬æ¢ä¸ºåˆ†
      body: `å–µå–µç¾é¢œ-${type}å¥—é¤`,
      attach: `package_${type}_${Date.now()}`
    },
    success: (res: any) => {
      wx.hideLoading();
      
      if (res.data.success) {
        // è°ƒç”¨å¾®ä¿¡æ”¯ä»˜
        this.callWeChatPay(res.data.data.pay_params);
      } else {
        wx.showToast({
          title: res.data.error || 'åˆ›å»ºè®¢å•å¤±è´¥',
          icon: 'error'
        });
      }
    },
    fail: (err) => {
      wx.hideLoading();
      console.error('åˆ›å»ºè®¢å•å¤±è´¥:', err);
      wx.showToast({
        title: 'ç½‘ç»œé”™è¯¯',
        icon: 'error'
      });
    }
  });
},

// è°ƒç”¨å¾®ä¿¡æ”¯ä»˜
callWeChatPay(payParams: any) {
  wx.requestPayment({
    timeStamp: payParams.timeStamp,
    nonceStr: payParams.nonceStr,
    package: payParams.package,
    signType: payParams.signType,
    paySign: payParams.paySign,
    success: (res) => {
      console.log('æ”¯ä»˜æˆåŠŸ:', res);
      wx.showToast({
        title: 'æ”¯ä»˜æˆåŠŸ',
        icon: 'success'
      });
      
      // æ›´æ–°ç”¨æˆ·å¥—é¤çŠ¶æ€
      this.updateUserPackage();
    },
    fail: (res) => {
      console.log('æ”¯ä»˜å¤±è´¥:', res);
      
      if (res.errMsg.includes('cancel')) {
        wx.showToast({
          title: 'æ”¯ä»˜å·²å–æ¶ˆ',
          icon: 'none'
        });
      } else {
        wx.showToast({
          title: 'æ”¯ä»˜å¤±è´¥',
          icon: 'error'
        });
      }
    }
  });
}
```

#### ğŸ“„ APIæ–‡æ¡£
è¯¦è§é¡¹ç›®æ ¹ç›®å½•ï¼š`å¾®ä¿¡æ”¯ä»˜APIè°ƒç”¨æŒ‡å—.md`

#### ğŸ”„ æ¢å¤æ–¹æ³•

**æ–¹å¼ä¸€ï¼šä»gitæ¢å¤å®Œæ•´æ–‡ä»¶**
```bash
# 1. æŸ¥çœ‹mainåˆ†æ”¯çš„indexé¡µé¢ï¼ˆåŒ…å«æ”¯ä»˜åŠŸèƒ½ï¼‰
git show main:miniprogram/pages/index/index.ts > /tmp/index_with_payment.ts

# 2. å¯¹æ¯”å’Œåˆå¹¶ä»£ç 
# å¯ä»¥æ‰‹åŠ¨å¤åˆ¶æ”¯ä»˜ç›¸å…³çš„æ–¹æ³•åˆ°å½“å‰index.ts
```

**æ–¹å¼äºŒï¼šä»feature/frontend-optimizationæ¢å¤**
```bash
# è¯¥åˆ†æ”¯åŒ…å«å®Œæ•´çš„UIå’Œæ”¯ä»˜åŠŸèƒ½
git show feature/frontend-optimization:miniprogram/pages/index/index.wxml > /tmp/index_full.wxml
```

**æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨æ·»åŠ **
1. åœ¨ `index.wxml` ä¸­æ·»åŠ ä»˜è´¹å¥—é¤UIï¼ˆä» `.trash` æˆ–gitå†å²ä¸­å¤åˆ¶ï¼‰
2. åœ¨ `index.ts` ä¸­æ·»åŠ æ”¯ä»˜ç›¸å…³æ–¹æ³•ï¼ˆè§ä¸Šè¿°ä»£ç ï¼‰
3. åœ¨ `index.wxss` ä¸­æ·»åŠ å¥—é¤å¡ç‰‡æ ·å¼
4. ç¡®ä¿åç«¯APIå¯ç”¨

#### âš ï¸ åç«¯APIè¦æ±‚
- `POST /api/wechat/pay/create` - åˆ›å»ºæ”¯ä»˜è®¢å•
- `GET /api/wechat/pay/query/{out_trade_no}` - æŸ¥è¯¢è®¢å•çŠ¶æ€
- `GET /api/wechat/pay/orders/{openid}` - è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨

---

### 2. OpenIDè·å–åŠŸèƒ½

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `main`
- **æäº¤**: 
  - `1b85768` - fix: ä¿®æ­£è·å–OpenIDçš„å®ç°æ–¹å¼
  - `d2308a6` - feat: æ·»åŠ è°ƒè¯•æŒ‰é’®è·å–ç”¨æˆ·OpenID

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… å¾®ä¿¡ç™»å½•è·å–code
- âœ… åç«¯æ¢å–OpenID
- âœ… æœ¬åœ°å­˜å‚¨OpenID
- âœ… è°ƒè¯•æŒ‰é’®æµ‹è¯•

#### ğŸ“ å…³é”®ä»£ç 

**å‰ç«¯ä»£ç **ï¼ˆå·²åœ¨V1ä¸­åˆ é™¤ï¼‰ï¼š
```javascript
// miniprogram/pages/index/index.ts

// è·å–ç”¨æˆ·OpenID
getUserOpenId() {
  wx.showLoading({
    title: 'è·å–ä¸­...'
  });

  // 1. è°ƒç”¨wx.loginè·å–code
  wx.login({
    success: (res) => {
      if (res.code) {
        console.log('ç™»å½•code:', res.code);
        
        // 2. å°†codeå‘é€åˆ°åç«¯
        wx.request({
          url: 'https://www.gongjuxiang.work/api/wechat/auth/openid',
          method: 'POST',
          header: {
            'Content-Type': 'application/json'
          },
          data: {
            code: res.code
          },
          success: (authRes: any) => {
            wx.hideLoading();
            
            if (authRes.data.success) {
              const openid = authRes.data.data.openid;
              
              // 3. ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
              wx.setStorageSync('openid', openid);
              
              // 4. æ˜¾ç¤ºç»“æœ
              wx.showModal({
                title: 'OpenIDè·å–æˆåŠŸ',
                content: `OpenID: ${openid}`,
                showCancel: false
              });
              
              console.log('OpenID:', openid);
            } else {
              wx.showToast({
                title: authRes.data.error || 'è·å–å¤±è´¥',
                icon: 'error'
              });
            }
          },
          fail: (err) => {
            wx.hideLoading();
            console.error('è¯·æ±‚å¤±è´¥:', err);
            wx.showToast({
              title: 'ç½‘ç»œé”™è¯¯',
              icon: 'error'
            });
          }
        });
      } else {
        wx.hideLoading();
        wx.showToast({
          title: 'ç™»å½•å¤±è´¥',
          icon: 'error'
        });
      }
    },
    fail: (err) => {
      wx.hideLoading();
      console.error('wx.loginå¤±è´¥:', err);
      wx.showToast({
        title: 'ç™»å½•å¤±è´¥',
        icon: 'error'
      });
    }
  });
}
```

#### ğŸ”„ æ¢å¤æ–¹æ³•

**æ–¹å¼ä¸€ï¼šä»gitæ¢å¤**
```bash
# æŸ¥çœ‹mainåˆ†æ”¯çš„å®ç°
git show main:miniprogram/pages/index/index.ts | grep -A 50 "getUserOpenId"
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ·»åŠ **
1. åœ¨ `index.ts` çš„ methods ä¸­æ·»åŠ  `getUserOpenId` æ–¹æ³•
2. åœ¨ `index.wxml` ä¸­æ·»åŠ è°ƒè¯•æŒ‰é’®ï¼ˆå¯é€‰ï¼‰
3. ç¡®ä¿åç«¯API `/api/wechat/auth/openid` å¯ç”¨

#### âš ï¸ åç«¯APIè¦æ±‚
- `POST /api/wechat/auth/openid` - æ¥æ”¶codeæ¢å–openid

---

### 3. ç”¨æˆ·å¤´åƒå’Œæ˜µç§°åŠŸèƒ½

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `main`
- **æäº¤**: 
  - `eb0cf7a` - feat: åœ¨é¦–é¡µå®ç°å¾®ä¿¡å¤´åƒè·å–å’Œæ˜µç§°è¾“å…¥åŠŸèƒ½
  - `c4ad7fe` - docs: æ›´æ–°README.mdï¼Œè¯¦ç»†è®°å½•ç”¨æˆ·ä¿¡æ¯è·å–åŠŸèƒ½
  - `3e637f4` - docs: é‡è¦å‘ç° - æ— éœ€ç™»å½•å³å¯è·å–ç”¨æˆ·å¤´åƒå’Œæ˜µç§°

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… ç”¨æˆ·å¤´åƒé€‰æ‹©ï¼ˆå¾®ä¿¡å®˜æ–¹ç»„ä»¶ï¼‰
- âœ… æ˜µç§°è¾“å…¥ï¼ˆå¾®ä¿¡æ¨èæ˜µç§°ï¼‰
- âœ… æœ¬åœ°å­˜å‚¨ç”¨æˆ·ä¿¡æ¯
- âœ… æ— éœ€ç™»å½•å³å¯è·å–

#### ğŸ“ å…³é”®ä»£ç 

**WXMLä»£ç **ï¼ˆå·²åœ¨V1ä¸­åˆ é™¤ï¼‰ï¼š
```xml
<!-- ç”¨æˆ·å¤´åƒåŒºåŸŸ -->
<view class="user-avatar-section">
  <button class="avatar-wrapper" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
    <image class="avatar" src="{{avatarUrl}}" mode="aspectFill"></image>
  </button>
  <text class="avatar-tip">ç‚¹å‡»é€‰æ‹©å¤´åƒ</text>
</view>

<!-- æ˜µç§°è¾“å…¥åŒºåŸŸ -->
<view class="nickname-section">
  <view class="nickname-label">
    <text>æ˜µç§°</text>
  </view>
  <input 
    type="nickname" 
    class="nickname-input" 
    placeholder="è¯·è¾“å…¥æ˜µç§°" 
    value="{{nickName}}" 
    bindinput="onNicknameInput" 
  />
</view>
```

**TypeScriptä»£ç **ï¼š
```typescript
// é»˜è®¤å¤´åƒ
const defaultAvatarUrl = 'https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0'

Component({
  data: {
    avatarUrl: defaultAvatarUrl,
    nickName: '',
  },

  lifetimes: {
    attached() {
      this.loadUserInfo();
    }
  },

  methods: {
    // åŠ è½½ç”¨æˆ·ä¿¡æ¯
    loadUserInfo() {
      try {
        const savedAvatar = wx.getStorageSync('userAvatar');
        const savedNickname = wx.getStorageSync('userNickname');
        
        if (savedAvatar) {
          this.setData({ avatarUrl: savedAvatar });
        }
        
        if (savedNickname) {
          this.setData({ nickName: savedNickname });
        }
      } catch (error) {
        console.error('åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error);
      }
    },

    // é€‰æ‹©å¤´åƒ
    onChooseAvatar(e: any) {
      const { avatarUrl } = e.detail;
      this.setData({ avatarUrl: avatarUrl });
      
      // ä¿å­˜åˆ°æœ¬åœ°
      wx.setStorageSync('userAvatar', avatarUrl);
      
      wx.showToast({
        title: 'å¤´åƒè®¾ç½®æˆåŠŸ',
        icon: 'success'
      });
    },

    // æ˜µç§°è¾“å…¥
    onNicknameInput(e: any) {
      const nickName = e.detail.value;
      this.setData({ nickName: nickName });
      
      // ä¿å­˜åˆ°æœ¬åœ°
      wx.setStorageSync('userNickname', nickName);
    }
  }
})
```

#### ğŸ”„ æ¢å¤æ–¹æ³•

**ä»gitæ¢å¤**ï¼š
```bash
# æŸ¥çœ‹mainåˆ†æ”¯çš„å®Œæ•´å®ç°
git show main:miniprogram/pages/index/index.wxml > /tmp/index_with_user.wxml
git show main:miniprogram/pages/index/index.ts > /tmp/index_with_user.ts
```

**æ‰‹åŠ¨æ·»åŠ **ï¼š
1. åœ¨ `index.wxml` å¼€å¤´æ·»åŠ ç”¨æˆ·å¤´åƒå’Œæ˜µç§°åŒºåŸŸ
2. åœ¨ `index.ts` çš„ data ä¸­æ·»åŠ  `avatarUrl` å’Œ `nickName`
3. æ·»åŠ  `loadUserInfo()`, `onChooseAvatar()`, `onNicknameInput()` æ–¹æ³•
4. åœ¨ `index.wxss` ä¸­æ·»åŠ æ ·å¼

---

### 4. ç”¨æˆ·å‰©ä½™æ¬¡æ•°å’Œç­‰çº§ç³»ç»Ÿ

#### ğŸ“ ä½ç½®
- **åˆ†æ”¯**: `feature/frontend-optimization` çš„ index é¡µé¢
- **æ–‡ä»¶**: `miniprogram/pages/index/index.ts`

#### âœ¨ åŠŸèƒ½ç‰¹æ€§
- âœ… å‰©ä½™æ¬¡æ•°ç»Ÿè®¡
- âœ… ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ
  - freeï¼ˆå…è´¹ç”¨æˆ·ï¼‰
  - basicï¼ˆåŸºç¡€ç‰ˆï¼‰
  - premiumï¼ˆé«˜çº§ç‰ˆï¼‰
  - unlimitedï¼ˆæ— é™ç‰ˆï¼‰
- âœ… æœ¬åœ°å­˜å‚¨ç”¨æˆ·çŠ¶æ€

#### ğŸ“ å…³é”®ä»£ç 

```typescript
Component({
  data: {
    remainingCount: 3,        // å‰©ä½™æ¬¡æ•°
    userLevel: 'free',        // ç”¨æˆ·ç­‰çº§
    userLevelText: 'å…è´¹ç”¨æˆ·', // ç”¨æˆ·ç­‰çº§æ–‡æœ¬
  },

  methods: {
    // åŠ è½½ç”¨æˆ·çŠ¶æ€
    loadUserStatus() {
      try {
        const savedCount = wx.getStorageSync('remainingCount');
        const savedLevel = wx.getStorageSync('userLevel');
        
        if (savedCount !== undefined && savedCount !== '') {
          this.setData({ remainingCount: savedCount });
        }
        
        if (savedLevel) {
          this.setData({ 
            userLevel: savedLevel,
            userLevelText: this.getLevelText(savedLevel)
          });
        }
      } catch (error) {
        console.error('åŠ è½½ç”¨æˆ·çŠ¶æ€å¤±è´¥:', error);
      }
    },

    // è·å–ç­‰çº§æ–‡æœ¬
    getLevelText(level: string): string {
      const levelMap: any = {
        'free': 'å…è´¹ç”¨æˆ·',
        'basic': 'åŸºç¡€ç‰ˆ',
        'premium': 'é«˜çº§ç‰ˆ',
        'unlimited': 'æ— é™ç‰ˆ'
      };
      return levelMap[level] || 'å…è´¹ç”¨æˆ·';
    },

    // æ£€æŸ¥ç”¨æˆ·å‰©ä½™æ¬¡æ•°
    checkUserRemainingCount(): boolean {
      if (this.data.userLevel === 'unlimited') {
        return true; // æ— é™ç‰ˆä¸æ£€æŸ¥æ¬¡æ•°
      }

      if (this.data.remainingCount <= 0) {
        wx.showModal({
          title: 'æ¬¡æ•°ä¸è¶³',
          content: 'æ‚¨çš„å…è´¹æ¬¡æ•°å·²ç”¨å®Œï¼Œè¯·è´­ä¹°å¥—é¤ç»§ç»­ä½¿ç”¨',
          confirmText: 'æŸ¥çœ‹å¥—é¤',
          success: (res) => {
            if (res.confirm) {
              // æ»šåŠ¨åˆ°å¥—é¤åŒºåŸŸ
              wx.pageScrollTo({
                selector: '.payment-section',
                duration: 300
              });
            }
          }
        });
        return false;
      }

      return true;
    },

    // æ›´æ–°ç”¨æˆ·å¥—é¤ï¼ˆæ”¯ä»˜æˆåŠŸåè°ƒç”¨ï¼‰
    updateUserPackage() {
      // æ ¹æ®è´­ä¹°çš„å¥—é¤æ›´æ–°ç”¨æˆ·çŠ¶æ€
      const packageType = wx.getStorageSync('purchasedPackage');
      
      let newCount = this.data.remainingCount;
      let newLevel = this.data.userLevel;

      switch(packageType) {
        case 'basic':
          newCount = 10;
          newLevel = 'basic';
          break;
        case 'premium':
          newCount = 100;
          newLevel = 'premium';
          break;
        case 'unlimited':
          newCount = -1; // -1è¡¨ç¤ºæ— é™
          newLevel = 'unlimited';
          break;
      }

      this.setData({
        remainingCount: newCount,
        userLevel: newLevel,
        userLevelText: this.getLevelText(newLevel)
      });

      // ä¿å­˜åˆ°æœ¬åœ°
      wx.setStorageSync('remainingCount', newCount);
      wx.setStorageSync('userLevel', newLevel);
    },

    // ä½¿ç”¨ä¸€æ¬¡ï¼ˆå¤„ç†æˆåŠŸåè°ƒç”¨ï¼‰
    useOneTime() {
      if (this.data.userLevel === 'unlimited') {
        return; // æ— é™ç‰ˆä¸æ‰£æ¬¡æ•°
      }

      const newCount = this.data.remainingCount - 1;
      this.setData({ remainingCount: newCount });
      wx.setStorageSync('remainingCount', newCount);
    }
  }
})
```

#### ğŸ”„ æ¢å¤æ–¹æ³•

**ä»gitæ¢å¤**ï¼š
```bash
# æŸ¥çœ‹å®Œæ•´å®ç°
git show feature/frontend-optimization:miniprogram/pages/index/index.ts | grep -A 100 "loadUserStatus"
```

**æ‰‹åŠ¨æ·»åŠ **ï¼š
1. åœ¨ data ä¸­æ·»åŠ  `remainingCount`, `userLevel`, `userLevelText`
2. æ·»åŠ ä¸Šè¿°æ–¹æ³•
3. åœ¨ `enhanceImage` æ–¹æ³•å¼€å§‹æ—¶è°ƒç”¨ `checkUserRemainingCount()`
4. åœ¨å¤„ç†æˆåŠŸåè°ƒç”¨ `useOneTime()`

---

## ğŸ“š ç”¨æˆ·ç³»ç»ŸåŠŸèƒ½

### ç”¨æˆ·çŠ¶æ€ç®¡ç†

#### æœ¬åœ°å­˜å‚¨çš„æ•°æ®
```javascript
// ç”¨æˆ·ä¿¡æ¯
wx.setStorageSync('userAvatar', avatarUrl)      // ç”¨æˆ·å¤´åƒ
wx.setStorageSync('userNickname', nickName)     // ç”¨æˆ·æ˜µç§°

// ç”¨æˆ·çŠ¶æ€
wx.setStorageSync('remainingCount', count)      // å‰©ä½™æ¬¡æ•°
wx.setStorageSync('userLevel', level)           // ç”¨æˆ·ç­‰çº§
wx.setStorageSync('openid', openid)             // å¾®ä¿¡OpenID

// æ”¯ä»˜ç›¸å…³
wx.setStorageSync('purchasedPackage', type)     // è´­ä¹°çš„å¥—é¤ç±»å‹

// éšç§æ”¿ç­–
wx.setStorageSync('privacyAgreed', true)        // æ˜¯å¦åŒæ„éšç§æ”¿ç­–
wx.setStorageSync('privacyAgreedTime', Date.now()) // åŒæ„æ—¶é—´
```

---

## ğŸš€ å¿«é€Ÿæ¢å¤æŒ‡å—

### åœºæ™¯1ï¼šæ¢å¤å®Œæ•´åŠŸèƒ½ï¼ˆæ‰€æœ‰é¡µé¢ + æ”¯ä»˜ï¼‰

```bash
# 1. åˆ‡æ¢åˆ°åŠŸèƒ½å®Œæ•´åˆ†æ”¯
git checkout feature/frontend-optimization

# 2. åˆ›å»ºæ–°çš„å¼€å‘åˆ†æ”¯
git checkout -b feature/full-features

# 3. ç¡®è®¤æ‰€æœ‰é¡µé¢éƒ½å­˜åœ¨
ls miniprogram/pages/

# 4. æµ‹è¯•åŠŸèƒ½
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•æ‰€æœ‰é¡µé¢
```

### åœºæ™¯2ï¼šåªæ¢å¤æ”¯ä»˜åŠŸèƒ½ï¼ˆä¿æŒV1ç®€æ´UIï¼‰

```bash
# 1. åœç•™åœ¨å½“å‰åˆ†æ”¯ feature/mvp-iteration

# 2. æŸ¥çœ‹mainåˆ†æ”¯çš„æ”¯ä»˜ä»£ç 
git show main:miniprogram/pages/index/index.ts > /tmp/index_payment.ts

# 3. æ‰‹åŠ¨å¤åˆ¶æ”¯ä»˜ç›¸å…³æ–¹æ³•åˆ°å½“å‰index.ts
# - getUserOpenId()
# - selectPackage()
# - createPayment()
# - callWeChatPay()
# - updateUserPackage()

# 4. æ·»åŠ æ”¯ä»˜UIåˆ°index.wxml
# ä»gitå†å²ä¸­å¤åˆ¶ä»˜è´¹å¥—é¤åŒºåŸŸ

# 5. æ·»åŠ æ ·å¼åˆ°index.wxss
# ä»gitå†å²ä¸­å¤åˆ¶å¥—é¤å¡ç‰‡æ ·å¼
```

### åœºæ™¯3ï¼šé€æ­¥æ¢å¤é¡µé¢

```bash
# 1. ä»trashæ¢å¤éœ€è¦çš„é¡µé¢
cp -r .trash/pages/home/ miniprogram/pages/
cp -r .trash/pages/profile/ miniprogram/pages/

# 2. åœ¨app.jsonä¸­æ·»åŠ é¡µé¢
# ç¼–è¾‘ miniprogram/app.json

# 3. æµ‹è¯•é¡µé¢åŠŸèƒ½
```

### åœºæ™¯4ï¼šæ¢å¤ç”¨æˆ·ç³»ç»Ÿ

```bash
# 1. æŸ¥çœ‹mainåˆ†æ”¯çš„ç”¨æˆ·ç³»ç»Ÿå®ç°
git show main:miniprogram/pages/index/index.ts > /tmp/user_system.ts

# 2. å¤åˆ¶ç”¨æˆ·ç›¸å…³ä»£ç 
# - dataä¸­çš„ç”¨æˆ·å­—æ®µ
# - loadUserInfo()
# - loadUserStatus()
# - onChooseAvatar()
# - onNicknameInput()
# - checkUserRemainingCount()
# - updateUserPackage()
# - useOneTime()

# 3. æ·»åŠ UI
# å¤åˆ¶ç”¨æˆ·å¤´åƒå’Œæ˜µç§°åŒºåŸŸåˆ°index.wxml

# 4. æ·»åŠ æ ·å¼
# å¤åˆ¶ç”¨æˆ·åŒºåŸŸæ ·å¼åˆ°index.wxss
```

---

## ğŸ“¦ å®Œæ•´åŠŸèƒ½æ¢å¤æ£€æŸ¥æ¸…å•

### å‰ç«¯é¡µé¢
- [ ] é¦–é¡µ (home)
- [ ] ç¾é¢œç›¸æœº (camera)
- [ ] æ‹¼å›¾åä½œ (puzzle)
- [ ] æ¨èå¥–åŠ± (referral)
- [ ] é‚€è¯·å¥½å‹ (invite)
- [ ] ç§¯åˆ†å•†åŸ (mall)
- [ ] ä¸ªäººèµ„æ–™ (profile)
- [ ] ç”¨æˆ·æµç¨‹å›¾ (userflow)

### åç«¯åŠŸèƒ½
- [ ] å¾®ä¿¡æ”¯ä»˜
- [ ] OpenIDè·å–
- [ ] ç”¨æˆ·å¤´åƒæ˜µç§°
- [ ] ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ
- [ ] å‰©ä½™æ¬¡æ•°ç®¡ç†

### æµ‹è¯•é¡¹ç›®
- [ ] é¡µé¢è·³è½¬æ­£å¸¸
- [ ] æ”¯ä»˜æµç¨‹å®Œæ•´
- [ ] ç”¨æˆ·ä¿¡æ¯ä¿å­˜
- [ ] æ¬¡æ•°æ‰£é™¤æ­£ç¡®
- [ ] å¥—é¤è´­ä¹°ç”Ÿæ•ˆ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç›¸å…³æ–‡æ¡£
- `README.md` - é¡¹ç›®æ€»è§ˆ
- `å¾®ä¿¡å°ç¨‹åºè°ƒç”¨æŒ‡å—.md` - APIè°ƒç”¨æ–‡æ¡£
- `å¾®ä¿¡æ”¯ä»˜APIè°ƒç”¨æŒ‡å—.md` - æ”¯ä»˜é›†æˆæ–‡æ¡£
- `V1-MVP-å®ç°æ€»ç»“.md` - V1ç‰ˆæœ¬è¯´æ˜

### Gitåˆ†æ”¯è¯´æ˜
- `main` - åŒ…å«åç«¯åŠŸèƒ½ï¼ˆæ”¯ä»˜ã€OpenIDç­‰ï¼‰
- `feature/frontend-optimization` - åŒ…å«æ‰€æœ‰å‰ç«¯é¡µé¢
- `feature/mvp-iteration` - V1ç²¾ç®€ç‰ˆæœ¬ï¼ˆå½“å‰ï¼‰

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2025å¹´10æœˆ1æ—¥
**ç»´æŠ¤è€…**ï¼šå–µå–µç¾é¢œå¼€å‘å›¢é˜Ÿ

