<!-- é‚€è¯·å¥½å‹é¡µé¢ -->
<view class="invite-container">
  <!-- æ¸å˜èƒŒæ™¯ -->
  <view class="invite-background"></view>
  
  <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
  <view class="decorative-elements">
    <view class="decorative-circle decorative-circle-1"></view>
    <view class="decorative-circle decorative-circle-2"></view>
    <view class="floating-hearts">
      <block wx:for="{{[0,1,2,3,4]}}" wx:key="*this">
        <view class="heart-animation heart-{{index}}">ğŸ’–</view>
      </block>
    </view>
  </view>
  
  <!-- æ‰‹æœºå®¹å™¨ -->
  <view class="mobile-container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <view class="top-navigation">
      <button class="nav-btn" bindtap="navigateBack">
        <text class="nav-icon">â†</text>
      </button>
      <text class="nav-title">é‚€è¯·å¥½å‹</text>
      <button class="nav-btn">
        <text class="nav-icon">âš™ï¸</text>
      </button>
    </view>
    
    <!-- çŒ«å’ªå‰ç¥¥ç‰©åŒºåŸŸ -->
    <view class="mascot-section">
      <text class="cat-emoji">ğŸ±</text>
      <text class="mascot-text">åˆ†äº«å–µå–µç¾é¢œï¼Œä¸€èµ·å˜ç¾å§ï¼</text>
    </view>
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <scroll-view scroll-y class="main-content">
      <!-- VIPè½¬èµ å¡ -->
      <view class="vip-transfer-card">
        <view class="card-background"></view>
        <view class="sparkle-decoration">âœ¨</view>
        
        <view class="card-content">
          <view class="card-header">
            <view class="gift-icon-wrapper">
              <text class="gift-icon">ğŸ</text>
            </view>
            <view class="card-title-section">
              <text class="card-title">VIPè½¬èµ å¡</text>
              <text class="card-subtitle">ä¸“å±ç‰¹æƒåˆ†äº«</text>
            </view>
            <view class="quota-section">
              <text class="quota-number">{{vipQuota}}</text>
              <text class="quota-label">ä¸ªåé¢</text>
            </view>
          </view>
          
          <view class="card-body">
            <image src="{{catGiftImage}}" mode="aspectFill" class="cat-gift-image" />
            <text class="quota-text">æˆ‘æœ‰ <text class="highlight">{{vipQuota}}ä¸ª</text> VIPåé¢</text>
            <text class="quota-note">åªèƒ½è½¬èµ ï¼Œä¸èƒ½è‡ªç”¨</text>
          </view>
        </view>
      </view>
      
      <!-- å¥½å‹åˆ—è¡¨ -->
      <view class="friends-list-section">
        <view class="section-header">
          <text class="section-title">é€‰æ‹©å¥½å‹èµ é€VIP</text>
          <text class="section-count">{{selectedCount}}/{{friendsList.length}}</text>
        </view>
        
        <view class="friends-list">
          <block wx:for="{{friendsList}}" wx:key="id">
            <view class="friend-item">
              <view class="friend-info">
                <view class="avatar-wrapper">
                  <image src="{{item.avatar}}" mode="aspectFill" class="friend-avatar" />
                  <block wx:if="{{item.status === 'online'}}">
                    <view class="online-indicator"></view>
                  </block>
                  <block wx:if="{{item.isVip}}">
                    <view class="vip-indicator">
                      <text class="crown-icon">ğŸ‘‘</text>
                    </view>
                  </block>
                </view>
                <view class="friend-details">
                  <text class="friend-name">{{item.name}}</text>
                  <text class="friend-status">{{item.isVip ? 'VIPä¼šå‘˜' : 'æ™®é€šç”¨æˆ·'}}</text>
                </view>
              </view>
              <button class="transfer-btn {{item.isVip ? 'disabled' : ''}}" 
                      bindtap="transferVip" 
                      data-friend-id="{{item.id}}"
                      disabled="{{item.isVip}}">
                {{item.isVip ? 'å·²æ˜¯VIP' : 'è½¬èµ '}}
              </button>
            </view>
          </block>
        </view>
      </view>
      
      <!-- å¥–åŠ±é˜¶æ¢¯ -->
      <view class="reward-ladder-section">
        <view class="section-header">
          <text class="section-title">é‚€è¯·å¥–åŠ±é˜¶æ¢¯</text>
          <text class="section-count">{{completedRewards}}/{{rewardLadder.length}}</text>
        </view>
        
        <view class="progress-container">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{rewardProgress}}%;"></view>
          </view>
        </view>
        
        <view class="reward-list">
          <block wx:for="{{rewardLadder}}" wx:key="id">
            <view class="reward-item {{item.completed ? 'completed' : (item.current ? 'current' : '')}}">
              <view class="reward-icon-wrapper {{item.completed ? 'completed' : (item.current ? 'current' : '')}}">
                <text class="reward-icon">{{item.icon}}</text>
              </view>
              <view class="reward-info">
                <text class="reward-title {{item.completed ? 'completed' : ''}}">{{item.title}}</text>
                <text class="reward-description {{item.completed ? 'completed' : ''}}">{{item.reward}}</text>
              </view>
              <block wx:if="{{item.completed}}">
                <text class="completed-icon">â­</text>
              </block>
            </view>
          </block>
        </view>
      </view>
      
      <!-- ç¤¾äº¤åˆ†äº« -->
      <view class="social-sharing-section">
        <view class="section-header">
          <text class="share-icon">ğŸ“¤</text>
          <text class="section-title">åˆ†äº«é‚€è¯·é“¾æ¥</text>
        </view>
        
        <view class="invite-content">
          <text class="invite-text">ğŸ å¿«æ¥åŠ å…¥å–µå–µç¾é¢œï¼Œä¸€èµ·å˜ç¾å§ï¼</text>
          <text class="invite-code">é‚€è¯·ç ï¼š{{inviteCode}}</text>
        </view>
        
        <view class="social-buttons">
          <button class="social-btn wechat-btn" bindtap="shareToWeChat">
            <text class="social-icon">ğŸ’¬</text>
            <text class="social-text">å¾®ä¿¡å¥½å‹</text>
          </button>
          <button class="social-btn moments-btn" bindtap="shareToMoments">
            <text class="social-icon">ğŸ‘¥</text>
            <text class="social-text">æœ‹å‹åœˆ</text>
          </button>
          <button class="social-btn copy-btn" bindtap="copyInviteLink">
            <text class="social-icon">ğŸ“‹</text>
            <text class="social-text">å¤åˆ¶é“¾æ¥</text>
          </button>
        </view>
      </view>
      
      <!-- æˆå°±å¾½ç«  -->
      <view class="achievement-section">
        <view class="section-header">
          <text class="badge-icon">ğŸ†</text>
          <text class="section-title">æˆå°±å¾½ç« </text>
          <text class="section-count">{{unlockedAchievements}}/{{achievements.length}}</text>
        </view>
        
        <view class="achievement-grid">
          <block wx:for="{{achievements}}" wx:key="id">
            <view class="achievement-item {{item.unlocked ? 'unlocked' : ''}}">
              <view class="achievement-icon-wrapper {{item.unlocked ? 'unlocked' : ''}}">
                <text class="achievement-icon">{{item.icon}}</text>
              </view>
              <text class="achievement-title {{item.unlocked ? 'unlocked' : ''}}">{{item.title}}</text>
              <text class="achievement-description">{{item.description}}</text>
              <text class="achievement-progress {{item.unlocked ? 'unlocked' : ''}}">{{item.progress}}</text>
            </view>
          </block>
        </view>
      </view>
    </scroll-view>
    
    <!-- åº•éƒ¨CTAæŒ‰é’® -->
    <view class="bottom-cta">
      <button class="invite-btn" bindtap="inviteFriends">
        <text class="invite-btn-text">ç«‹å³é‚€è¯·å¥½å‹</text>
      </button>
    </view>
  </view>
</view>
