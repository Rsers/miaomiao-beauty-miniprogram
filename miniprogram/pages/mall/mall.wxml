<!-- ç§¯åˆ†å•†åŸé¡µé¢ -->
<view class="mall-container">
  <!-- æ¸å˜èƒŒæ™¯ -->
  <view class="mall-background"></view>
  
  <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
  <view class="decorative-elements">
    <view class="decorative-circle decorative-circle-1"></view>
    <view class="decorative-circle decorative-circle-2"></view>
    <view class="floating-hearts">
      <block wx:for="{{[0,1,2,3,4]}}" wx:key="*this">
        <view class="heart-animation heart-{{index}}">ğŸ’–</view>
      </block>
    </view>
  </view>
  
  <!-- æ‰‹æœºå®¹å™¨ -->
  <view class="mobile-container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <view class="top-navigation">
      <button class="nav-btn" bindtap="navigateBack">
        <text class="nav-icon">â†</text>
      </button>
      
      <view class="nav-center">
        <text class="nav-title">å–µå–µç§¯åˆ†å•†åŸ</text>
        <text class="nav-subtitle">è®©ç¾ä¸½æ›´æœ‰ä»·å€¼</text>
      </view>
      
      <view class="nav-actions">
        <button class="action-btn">
          <text class="action-icon">ğŸ”</text>
        </button>
        <button class="action-btn cart-btn">
          <text class="action-icon">ğŸ›ï¸</text>
          <block wx:if="{{cartCount > 0}}">
            <view class="cart-badge">{{cartCount}}</view>
          </block>
        </button>
      </view>
    </view>
    
    <!-- ç§¯åˆ†å¤´éƒ¨ -->
    <view class="points-header">
      <view class="points-info">
        <view class="points-icon-wrapper">
          <text class="points-icon">ğŸ‘‘</text>
        </view>
        <view class="points-details">
          <text class="points-label">æˆ‘çš„ç§¯åˆ†</text>
          <text class="points-amount">{{userPoints}}</text>
        </view>
      </view>
      
      <view class="vip-info">
        <view class="vip-badge">VIP {{userVipLevel}}</view>
        <button class="gift-btn">
          <text class="gift-icon">ğŸ</text>
        </button>
      </view>
    </view>
    
    <!-- åˆ†ç±»æ ‡ç­¾ -->
    <view class="category-tabs">
      <scroll-view scroll-x class="tabs-scroll">
        <view class="tabs-container">
          <block wx:for="{{categories}}" wx:key="id">
            <button class="tab-btn {{activeCategory === item.id ? 'active' : ''}}" 
                    bindtap="switchCategory" 
                    data-category="{{item.id}}">
              <text class="tab-emoji">{{item.emoji}}</text>
              <text class="tab-name">{{item.name}}</text>
            </button>
          </block>
        </view>
      </scroll-view>
    </view>
    
    <!-- é™æ—¶ç‰¹æƒ æ¨ªå¹… -->
    <view class="special-banner">
      <view class="banner-content">
        <view class="banner-left">
          <text class="banner-title">é™æ—¶ç‰¹æƒ  ğŸ‰</text>
          <text class="banner-subtitle">çŒ«å’ªç³»åˆ—å…¨åœº8æŠ˜</text>
        </view>
        <view class="banner-right">
          <text class="banner-time-label">å‰©ä½™æ—¶é—´</text>
          <text class="banner-time">{{remainingTime}}</text>
        </view>
      </view>
    </view>
    
    <!-- å•†å“ç½‘æ ¼ -->
    <scroll-view scroll-y class="product-grid">
      <view class="products-container">
        <block wx:for="{{filteredProducts}}" wx:key="id">
          <view class="product-card">
            <!-- å•†å“å›¾ç‰‡ -->
            <view class="product-image-wrapper">
              <image src="{{item.image}}" mode="aspectFill" class="product-image" />
              
              <!-- é™å®šæ ‡ç­¾ -->
              <block wx:if="{{item.isLimited}}">
                <view class="limited-badge">
                  <text class="limited-icon">âœ¨</text>
                  <text class="limited-text">é™å®š</text>
                </view>
              </block>
              
              <!-- è¯„åˆ† -->
              <view class="rating-badge">
                <text class="star-icon">â­</text>
                <text class="rating-text">{{item.rating}}</text>
              </view>
            </view>
            
            <!-- å•†å“ä¿¡æ¯ -->
            <view class="product-info">
              <text class="product-name">{{item.name}}</text>
              <text class="product-description">{{item.description}}</text>
              <text class="sold-count">å·²å…‘æ¢ {{item.soldCount}}+</text>
              
              <!-- ä»·æ ¼ä¿¡æ¯ -->
              <view class="price-info">
                <view class="points-price">
                  <text class="points-amount">{{item.points}}</text>
                  <text class="points-label">ç§¯åˆ†</text>
                </view>
                <text class="original-price">Â¥{{item.originalPrice}}</text>
              </view>
              
              <!-- å…‘æ¢æŒ‰é’® -->
              <button class="exchange-btn" bindtap="exchangeProduct" data-product-id="{{item.id}}">
                <text class="exchange-text">ç«‹å³å…‘æ¢</text>
              </button>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>
  </view>
</view>
